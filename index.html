<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>МОЯК - Обмен криптовалют</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #ffffff;
            min-height: 100vh;
            padding: 16px;
            display: flex;
            flex-direction: column;
        }
        
        .header {
            text-align: center;
            margin-bottom: 24px;
            padding: 16px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .app-title {
            font-size: 28px;
            font-weight: 800;
            letter-spacing: 1.5px;
            margin-bottom: 4px;
            background: linear-gradient(45deg, #3498db, #2ecc71);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .app-subtitle {
            font-size: 16px;
            color: #bdc3c7;
            margin-bottom: 16px;
        }
        
        .main-action {
            background: linear-gradient(135deg, #2980b9 0%, #27ae60 100%);
            color: white;
            border: none;
            padding: 18px 24px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 24px;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }
        
        .main-action:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
        }
        
        .main-action:active {
            transform: translateY(0);
        }
        
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }
        
        .menu-item {
            background: rgba(30, 40, 70, 0.8);
            border-radius: 12px;
            padding: 20px 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 120px;
        }
        
        .menu-item:hover {
            background: rgba(40, 50, 90, 0.9);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .menu-icon {
            font-size: 28px;
            margin-bottom: 12px;
            background: linear-gradient(45deg, #3498db, #2ecc71);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .menu-text {
            font-size: 16px;
            font-weight: 500;
        }
        
        .footer {
            margin-top: auto;
            padding: 16px 0;
            text-align: center;
            color: #7f8c8d;
            font-size: 14px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Модальные окна */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 16px;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            padding: 24px;
            border-radius: 16px;
            width: 100%;
            max-width: 400px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: 600;
        }
        
        .close-modal {
            background: none;
            border: none;
            color: #fff;
            font-size: 24px;
            cursor: pointer;
            opacity: 0.7;
        }
        
        .close-modal:hover {
            opacity: 1;
        }
        
        .exchange-form {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .input-group label {
            font-size: 14px;
            color: #bdc3c7;
        }
        
        .input-group input, .input-group select {
            padding: 14px 16px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(30, 40, 70, 0.8);
            color: white;
            font-size: 16px;
        }
        
        .form-btn {
            background: linear-gradient(135deg, #2980b9 0%, #27ae60 100%);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }
        
        .form-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }
        
        .rate-display {
            background: rgba(30, 40, 70, 0.8);
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .rate-value {
            font-size: 20px;
            font-weight: 600;
            text-align: center;
            margin: 10px 0;
            color: #2ecc71;
        }
        
        .rate-info {
            font-size: 14px;
            color: #bdc3c7;
            text-align: center;
        }
        
        .support-info {
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
            padding: 12px;
            background: rgba(30, 40, 70, 0.8);
            border-radius: 8px;
        }
        
        .referral-stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            background: rgba(30, 40, 70, 0.8);
            padding: 16px;
            border-radius: 12px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: #2ecc71;
        }
        
        .stat-label {
            font-size: 14px;
            color: #bdc3c7;
        }
        
        .referral-link {
            display: flex;
            gap: 10px;
            margin: 16px 0;
        }
        
        .referral-link input {
            flex: 1;
            padding: 12px 16px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(30, 40, 70, 0.8);
            color: white;
        }
        
        .copy-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 16px;
            border-radius: 8px;
            cursor: pointer;
        }
        
        /* Стили для раздела "Все заявки" */
        .orders-container {
            max-height: 300px;
            overflow-y: auto;
            margin: 16px 0;
        }
        
        .order-item {
            padding: 12px;
            margin-bottom: 10px;
            background: rgba(30, 40, 70, 0.8);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .order-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        
        .order-type {
            font-weight: 600;
            color: #2ecc71;
        }
        
        .order-amount {
            font-weight: 600;
        }
        
        .order-details {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: #bdc3c7;
        }
        
        .order-status {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-completed {
            background-color: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
        }
        
        .status-pending {
            background-color: rgba(241, 196, 15, 0.2);
            color: #f1c40f;
        }
        
        .status-cancelled {
            background-color: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
        }
        
        /* Стили для раздела "О нас" */
        .about-content {
            line-height: 1.6;
        }
        
        .about-section {
            margin-bottom: 20px;
        }
        
        .about-section h3 {
            color: #3498db;
            margin-bottom: 10px;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin: 16px 0;
        }
        
        .feature-item {
            padding: 12px;
            background: rgba(30, 40, 70, 0.8);
            border-radius: 8px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .feature-icon {
            font-size: 24px;
            margin-bottom: 8px;
            color: #2ecc71;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin: 20px 0;
        }
        
        .stat-card {
            padding: 12px;
            background: rgba(30, 40, 70, 0.8);
            border-radius: 8px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .stat-number {
            font-size: 20px;
            font-weight: 700;
            color: #2ecc71;
            margin-bottom: 4px;
        }
        
        .stat-desc {
            font-size: 12px;
            color: #bdc3c7;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1 class="app-title">МОЯК</h1>
        <p class="app-subtitle">ОБМЕН КРИПТОВАЛЮТ</p>
    </div>
    
    <button class="main-action" id="exchange-btn">
        <span>Купить / Продать USDT</span>
    </button>
    
    <div class="menu-grid">
        <div class="menu-item" id="rates-btn">
            <div class="menu-icon">💹</div>
            <div class="menu-text">Курс</div>
        </div>
        <div class="menu-item" id="orders-btn">
            <div class="menu-icon">📋</div>
            <div class="menu-text">Все заявки</div>
        </div>
        <div class="menu-item" id="support-btn">
            <div class="menu-icon">🛟</div>
            <div class="menu-text">Поддержка</div>
        </div>
        <div class="menu-item" id="about-btn">
            <div class="menu-icon">ℹ️</div>
            <div class="menu-text">О нас</div>
        </div>
        <div class="menu-item" id="aml-btn">
            <div class="menu-icon">🔍</div>
            <div class="menu-text">AML проверка</div>
        </div>
        <div class="menu-item" id="referral-btn">
            <div class="menu-icon">👥</div>
            <div class="menu-text">Реферальная программа</div>
        </div>
    </div>
    
    <div class="footer">
        МОЯК © 2023 | Мини-приложение для обмена криптовалют
    </div>
    
    <!-- Модальное окно обмена -->
    <div class="modal" id="exchange-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Обмен USDT</h2>
                <button class="close-modal" data-modal="exchange-modal">×</button>
            </div>
            <div class="exchange-form">
                <div class="input-group">
                    <label>Направление обмена</label>
                    <select id="exchange-direction">
                        <option value="buy">Купить USDT</option>
                        <option value="sell">Продать USDT</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>Сумма</label>
                    <input type="number" placeholder="Введите сумму" id="exchange-amount">
                </div>
                <div class="input-group">
                    <label>Валюта</label>
                    <select id="exchange-currency">
                        <option value="RUB">RUB - Российский рубль</option>
                        <option value="USD">USD - Доллар США</option>
                        <option value="EUR">EUR - Евро</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>Кошелек для получения</label>
                    <input type="text" placeholder="Введите адрес кошелька" id="exchange-wallet">
                </div>
                <button class="form-btn" id="confirm-exchange">Подтвердить обмен</button>
            </div>
        </div>
    </div>
    
    <!-- Модальное окно курсов -->
    <div class="modal" id="rates-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Курсы валют</h2>
                <button class="close-modal" data-modal="rates-modal">×</button>
            </div>
            <div class="rate-display">
                <div class="rate-info">Текущий курс USDT/RUB</div>
                <div class="rate-value">1 USDT = 92.45 RUB</div>
                <div class="rate-info">Обновлено 5 минут назад</div>
            </div>
            <div class="rate-display">
                <div class="rate-info">Текущий курс USDT/USD</div>
                <div class="rate-value">1 USDT = 1.001 USD</div>
                <div class="rate-info">Обновлено 5 минут назад</div>
            </div>
            <div class="rate-display">
                <div class="rate-info">Текущий курс USDT/EUR</div>
                <div class="rate-value">1 USDT = 0.92 EUR</div>
                <div class="rate-info">Обновлено 5 минут назад</div>
            </div>
        </div>
    </div>
    
    <!-- Модальное окно поддержки -->
    <div class="modal" id="support-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Поддержка</h2>
                <button class="close-modal" data-modal="support-modal">×</button>
            </div>
            <div class="support-info">
                <p>Наша служба поддержки работает 24/7. Свяжитесь с нами любым удобным способом:</p>
            </div>
            <div class="contact-item">
                <span>📧</span>
                <span>support@moyaka.com</span>
            </div>
            <div class="contact-item">
                <span>📱</span>
                <span>Telegram: @moyaka_support</span>
            </div>
            <div class="contact-item">
                <span>🌐</span>
                <span>Website: moyaka.com</span>
            </div>
        </div>
    </div>
    
    <!-- Модальное окно реферальной программы -->
    <div class="modal" id="referral-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Реферальная программа</h2>
                <button class="close-modal" data-modal="referral-modal">×</button>
            </div>
            <div class="referral-stats">
                <div class="stat-item">
                    <div class="stat-value">5</div>
                    <div class="stat-label">Приглашено</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">2.5%</div>
                    <div class="stat-label">Ваш процент</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">1500 ₽</div>
                    <div class="stat-label">Заработано</div>
                </div>
            </div>
            <p>Приглашайте друзей и получайте до 2.5% от суммы их обменов!</p>
            <div class="input-group">
                <label>Ваша реферальная ссылка:</label>
                <div class="referral-link">
                    <input type="text" value="https://t.me/moyaka_bot?start=ref123456" readonly>
                    <button class="copy-btn" id="copy-ref-link">Копировать</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Модальное окно "Все заявки" -->
    <div class="modal" id="orders-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Все заявки</h2>
                <button class="close-modal" data-modal="orders-modal">×</button>
            </div>
            
            <div class="orders-container">
                <div class="order-item">
                    <div class="order-header">
                        <span class="order-type">Покупка USDT</span>
                        <span class="order-amount">5,000 RUB</span>
                    </div>
                    <div class="order-details">
                        <span>54.12 USDT</span>
                        <span class="order-status status-completed">Завершено</span>
                    </div>
                </div>
                
                <div class="order-item">
                    <div class="order-header">
                        <span class="order-type">Продажа USDT</span>
                        <span class="order-amount">100 USDT</span>
                    </div>
                    <div class="order-details">
                        <span>9,245 RUB</span>
                        <span class="order-status status-pending">В обработке</span>
                    </div>
                </div>
                
                <div class="order-item">
                    <div class="order-header">
                        <span class="order-type">Покупка USDT</span>
                        <span class="order-amount">10,000 RUB</span>
                    </div>
                    <div class="order-details">
                        <span>108.24 USDT</span>
                        <span class="order-status status-completed">Завершено</span>
                    </div>
                </div>
                
                <div class="order-item">
                    <div class="order-header">
                        <span class="order-type">Продажа USDT</span>
                        <span class="order-amount">50 USDT</span>
                    </div>
                    <div class="order-details">
                        <span>4,622 RUB</span>
                        <span class="order-status status-cancelled">Отменено</span>
                    </div>
                </div>
                
                <div class="order-item">
                    <div class="order-header">
                        <span class="order-type">Покупка USDT</span>
                        <span class="order-amount">15,000 RUB</span>
                    </div>
                    <div class="order-details">
                        <span>162.36 USDT</span>
                        <span class="order-status status-completed">Завершено</span>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 16px;">
                <button class="form-btn" id="load-more-orders">Загрузить еще</button>
            </div>
        </div>
    </div>
    
    <!-- Модальное окно "О нас" -->
    <div class="modal" id="about-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">О нас</h2>
                <button class="close-modal" data-modal="about-modal">×</button>
            </div>
            
            <div class="about-content">
                <div class="about-section">
                    <h3>МОЯК — надежный обменник криптовалют</h3>
                    <p>Мы предоставляем быстрые и безопасные услуги по обмену криптовалют с 2018 года. Наша платформа позволяет легко покупать и продавать USDT по выгодным курсам.</p>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">5+</div>
                        <div class="stat-desc">Лет на рынке</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">50K+</div>
                        <div class="stat-desc">Успешных обменов</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">99.8%</div>
                        <div class="stat-desc">Положительных отзывов</div>
                    </div>
                </div>
                
                <div class="about-section">
                    <h3>Наши преимущества</h3>
                    <div class="features-grid">
                        <div class="feature-item">
                            <div class="feature-icon">⚡</div>
                            <div>Быстрые транзакции</div>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">🔒</div>
                            <div>Безопасность средств</div>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">💎</div>
                            <div>Выгодные курсы</div>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">🛡️</div>
                            <div>AML проверка</div>
                        </div>
                    </div>
                </div>
                
                <div class="about-section">
                    <h3>Наша миссия</h3>
                    <p>Мы стремимся сделать обмен криптовалют простым, быстрым и доступным для каждого. Наша команда постоянно работает над улучшением сервиса и расширением возможностей платформы.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Инициализация Telegram WebApp
            let tg = window.Telegram.WebApp;
            tg.expand();
            tg.enableClosingConfirmation();
            
            // Обработчики открытия модальных окон
            document.getElementById('exchange-btn').addEventListener('click', function() {
                document.getElementById('exchange-modal').style.display = 'flex';
            });
            
            document.getElementById('rates-btn').addEventListener('click', function() {
                document.getElementById('rates-modal').style.display = 'flex';
            });
            
            document.getElementById('support-btn').addEventListener('click', function() {
                document.getElementById('support-modal').style.display = 'flex';
            });
            
            document.getElementById('referral-btn').addEventListener('click', function() {
                document.getElementById('referral-modal').style.display = 'flex';
            });
            
            document.getElementById('orders-btn').addEventListener('click', function() {
                document.getElementById('orders-modal').style.display = 'flex';
            });
            
            document.getElementById('about-btn').addEventListener('click', function() {
                document.getElementById('about-modal').style.display = 'flex';
            });
            
            // Обработчики закрытия модальных окон
            document.querySelectorAll('.close-modal').forEach(button => {
                button.addEventListener('click', function() {
                    const modalId = this.getAttribute('data-modal');
                    document.getElementById(modalId).style.display = 'none';
                });
            });
            
            // Закрытие модальных окон при клике вне их области
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.style.display = 'none';
                    }
                });
            });
            
            // Обработчик копирования реферальной ссылки
            document.getElementById('copy-ref-link').addEventListener('click', function() {
                const refInput = document.querySelector('.referral-link input');
                refInput.select();
                document.execCommand('copy');
                
                // В реальном приложении здесь можно показать уведомление
                alert('Ссылка скопирована в буфер обмена!');
            });
            
            // Обработчик подтверждения обмена
            document.getElementById('confirm-exchange').addEventListener('click', function() {
                const direction = document.getElementById('exchange-direction').value;
                const amount = document.getElementById('exchange-amount').value;
                const currency = document.getElementById('exchange-currency').value;
                const wallet = document.getElementById('exchange-wallet').value;
                
                if (!amount || amount <= 0) {
                    alert('Пожалуйста, введите корректную сумму');
                    return;
                }
                
                if (!wallet) {
                    alert('Пожалуйста, введите адрес кошелька');
                    return;
                }
                
                // В реальном приложении здесь будет отправка данных на сервер
                alert(`Заявка на ${direction === 'buy' ? 'покупку' : 'продажу'} ${amount} USDT создана!`);
                document.getElementById('exchange-modal').style.display = 'none';
            });
            
            // Обработчик кнопки "Загрузить еще" в разделе заявок
            document.getElementById('load-more-orders').addEventListener('click', function() {
                // В реальном приложении здесь будет загрузка дополнительных заявок
                alert('Дополнительные заявки загружены!');
            });
            
            // Имитация получения текущих курсов (в реальном приложении - запрос к API)
            setTimeout(() => {
                document.querySelectorAll('.rate-value').forEach(el => {
                    el.innerHTML = el.innerHTML.replace('92.45', '92.67')
                                              .replace('1.001', '1.000')
                                              .replace('0.92', '0.93');
                });
            }, 5000);
        });
    </script>
</body>
</html>